{
"version":3,
"file":"module$bfuncs$codemirrorComponents.js",
"lineCount":12,
"mappings":"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",
"sources":["bfuncs/codemirrorComponents.js"],
"sourcesContent":["shadow$provide[\"module$bfuncs$codemirrorComponents\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createEditor = createEditor;\n\nvar _state = require(\"@codemirror/state\");\n\nvar _view = require(\"@codemirror/view\");\n\nvar _rangeset = require(\"@codemirror/rangeset\");\n\nvar _matchbrackets = require(\"@codemirror/matchbrackets\");\n\nvar _highlight = require(\"@codemirror/highlight\");\n\nvar _language = require(\"@codemirror/language\");\n\nvar _bexprParser = require(\"./bexprParser.js\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar varMark = _view.Decoration.mark({\n  \"class\": \"cm-markedVar\"\n});\n\nvar errMark = _view.Decoration.mark({\n  \"class\": \"cm-parseError\"\n});\n\nvar zeroWidthErrMark = _view.Decoration.mark({\n  \"class\": \"cm-zeroWidthParseError\"\n});\n\nfunction getParseData(state, hVar) {\n  // const hVarRanges = hVar ? new RangeSetBuilder<Decoration>() : null;\n  var hVarRanges = new _rangeset.RangeSetBuilder();\n  var errRanges = new _rangeset.RangeSetBuilder();\n  var vars = new Set();\n  var stack = [];\n  var errors = [];\n  (0, _language.syntaxTree)(state).iterate({\n    enter: function enter(nt, from, to) {\n      if (nt.isError) {\n        var text = state.sliceDoc(from, to);\n\n        if (from === to) {\n          // errRanges.add(Math.max(0,from-1), to, zeroWidthErrMark)\n          errRanges.add(from, to + 1, zeroWidthErrMark);\n        } else {\n          errRanges.add(from, to, errMark);\n        }\n\n        errors.push({\n          from: from,\n          to: to,\n          text: text\n        });\n        stack.push([\"ERROR\"]);\n      } else if (nt.is(\"str\")) {\n        if (nt.name === \"var\") {\n          var _text = state.sliceDoc(from, to);\n\n          stack.push([\"var\", _text]);\n          vars.add(_text);\n\n          if (_text === hVar) {\n            hVarRanges.add(from, to, varMark);\n          }\n        } else {\n          stack.push([nt.name]);\n        }\n      } else {\n        return false;\n      }\n    },\n    leave: function leave() {\n      var secondLast = stack[stack.length - 2];\n\n      if (secondLast) {\n        secondLast.push(stack.pop());\n      }\n    }\n  });\n  return {\n    hVar: hVar,\n    hVarMarks: hVarRanges.finish(),\n    parse: stack.pop(),\n    vars: _toConsumableArray(vars).sort(),\n    errors: errors.length > 0 ? errors : null,\n    errMarks: errRanges.finish()\n  };\n}\n\nvar hstyle = _highlight.HighlightStyle.define([{\n  tag: _highlight.tags.compareOperator,\n  \"class\": \"cmt-rel-op\"\n}, {\n  tag: _highlight.tags.operatorKeyword,\n  \"class\": \"cmt-operator-keyword cmt-operator\"\n}, {\n  tag: _highlight.tags.logicOperator,\n  \"class\": \"cmt-log-op\"\n}, {\n  tag: _highlight.tags.special(_highlight.tags.logicOperator),\n  \"class\": \"cmt-negated\"\n}]);\n\nvar bexprLanguage = _language.LezerLanguage.define({\n  parser: _bexprParser.parser.configure({\n    props: [(0, _highlight.styleTags)({\n      lit: _highlight.tags.bool,\n      litKey: [_highlight.tags.keyword, _highlight.tags.bool],\n      log: _highlight.tags.logicOperator,\n      logKey: [_highlight.tags.operatorKeyword, _highlight.tags.logicOperator],\n      rel: _highlight.tags.compareOperator,\n      relKey: [_highlight.tags.operatorKeyword, _highlight.tags.compareOperator],\n      not: _highlight.tags.special(_highlight.tags.logicOperator),\n      notKey: [_highlight.tags.operatorKeyword, _highlight.tags.special(_highlight.tags.logicOperator)],\n      \"var\": _highlight.tags.variableName,\n      neg: _highlight.tags.special(_highlight.tags.logicOperator)\n    })]\n  })\n});\n\nfunction bexpr() {\n  return new _language.LanguageSupport(bexprLanguage);\n}\n\nfunction createEditor(onParse, doc) {\n  var parse = function parse(state, hVar) {\n    var pd = getParseData(state, hVar);\n    onParse({\n      parse: pd.parse,\n      vars: pd.vars,\n      errors: pd.errors,\n      text: state.doc.toString()\n    });\n    return pd;\n  };\n\n  var markVariable = _state.StateEffect.define();\n\n  var markErrors = _state.StateEffect.define();\n\n  var parseField = _state.StateField.define({\n    create: function create(state) {\n      return parse(state, null);\n    },\n    update: function update(prevData, tr) {\n      var _iterator = _createForOfIteratorHelper(tr.effects),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var e = _step.value;\n\n          if (e.is(markVariable)) {\n            return parse(tr.state, e.value);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (tr.docChanged) {\n        return parse(tr.state, prevData.hVar);\n      }\n\n      return prevData;\n    }\n  });\n\n  var showErrors = _state.StateField.define({\n    create: function create() {\n      return false;\n    },\n    update: function update(value, tr) {\n      var _iterator2 = _createForOfIteratorHelper(tr.effects),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var e = _step2.value;\n          if (e.is(markErrors)) return e.value;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return value;\n    }\n  });\n\n  var view = new _view.EditorView({\n    state: _state.EditorState.create({\n      extensions: [bexpr(), parseField, showErrors, _view.EditorView.lineWrapping, _view.EditorView.decorations.compute([parseField, showErrors], function (state) {\n        return state.field(showErrors) ? state.field(parseField).errMarks : _view.Decoration.none;\n      }), _view.EditorView.decorations.from(parseField, function (data) {\n        return data.hVarMarks;\n      }), (0, _view.drawSelection)(), hstyle.extension, _highlight.classHighlightStyle.extension, (0, _matchbrackets.bracketMatching)()],\n      doc: doc\n    })\n  });\n  return [function (showErrors, markedVar) {\n    view.dispatch({\n      effects: [markErrors.of(showErrors), markVariable.of(markedVar)]\n    });\n  }, view];\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3RzL2JmdW5jcy9jb2RlbWlycm9yQ29tcG9uZW50cy50cyJdLCJuYW1lcyI6WyJ2YXJNYXJrIiwiRGVjb3JhdGlvbiIsIm1hcmsiLCJlcnJNYXJrIiwiemVyb1dpZHRoRXJyTWFyayIsImdldFBhcnNlRGF0YSIsInN0YXRlIiwiaFZhciIsImhWYXJSYW5nZXMiLCJSYW5nZVNldEJ1aWxkZXIiLCJlcnJSYW5nZXMiLCJ2YXJzIiwiU2V0Iiwic3RhY2siLCJlcnJvcnMiLCJpdGVyYXRlIiwiZW50ZXIiLCJudCIsImZyb20iLCJ0byIsImlzRXJyb3IiLCJ0ZXh0Iiwic2xpY2VEb2MiLCJhZGQiLCJwdXNoIiwiaXMiLCJuYW1lIiwibGVhdmUiLCJzZWNvbmRMYXN0IiwibGVuZ3RoIiwicG9wIiwiaFZhck1hcmtzIiwiZmluaXNoIiwicGFyc2UiLCJzb3J0IiwiZXJyTWFya3MiLCJoc3R5bGUiLCJIaWdobGlnaHRTdHlsZSIsImRlZmluZSIsInRhZyIsInQiLCJjb21wYXJlT3BlcmF0b3IiLCJvcGVyYXRvcktleXdvcmQiLCJsb2dpY09wZXJhdG9yIiwic3BlY2lhbCIsImJleHByTGFuZ3VhZ2UiLCJMZXplckxhbmd1YWdlIiwicGFyc2VyIiwiY29uZmlndXJlIiwicHJvcHMiLCJsaXQiLCJib29sIiwibGl0S2V5Iiwia2V5d29yZCIsImxvZyIsImxvZ0tleSIsInJlbCIsInJlbEtleSIsIm5vdCIsIm5vdEtleSIsInZhcmlhYmxlTmFtZSIsIm5lZyIsImJleHByIiwiTGFuZ3VhZ2VTdXBwb3J0IiwiY3JlYXRlRWRpdG9yIiwib25QYXJzZSIsImRvYyIsInBkIiwidG9TdHJpbmciLCJtYXJrVmFyaWFibGUiLCJTdGF0ZUVmZmVjdCIsIm1hcmtFcnJvcnMiLCJwYXJzZUZpZWxkIiwiU3RhdGVGaWVsZCIsImNyZWF0ZSIsInVwZGF0ZSIsInByZXZEYXRhIiwidHIiLCJlZmZlY3RzIiwiZSIsInZhbHVlIiwiZG9jQ2hhbmdlZCIsInNob3dFcnJvcnMiLCJ2aWV3IiwiRWRpdG9yVmlldyIsIkVkaXRvclN0YXRlIiwiZXh0ZW5zaW9ucyIsImxpbmVXcmFwcGluZyIsImRlY29yYXRpb25zIiwiY29tcHV0ZSIsImZpZWxkIiwibm9uZSIsImRhdGEiLCJleHRlbnNpb24iLCJjbGFzc0hpZ2hsaWdodFN0eWxlIiwibWFya2VkVmFyIiwiZGlzcGF0Y2giLCJvZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7O0FBc0JBLElBQU1BLE9BQU8sR0FBR0MsaUJBQVdDLElBQVgsQ0FBZ0I7QUFBQyxXQUFPO0FBQVIsQ0FBaEIsQ0FBaEI7O0FBQ0EsSUFBTUMsT0FBTyxHQUFHRixpQkFBV0MsSUFBWCxDQUFnQjtBQUFDLFdBQU87QUFBUixDQUFoQixDQUFoQjs7QUFDQSxJQUFNRSxnQkFBZ0IsR0FBR0gsaUJBQVdDLElBQVgsQ0FBZ0I7QUFBQyxXQUFPO0FBQVIsQ0FBaEIsQ0FBekI7O0FBRUEsU0FBU0csWUFBVCxDQUFzQkMsS0FBdEIsRUFBMENDLElBQTFDLEVBQTBFO0FBQ3hFO0FBQ0EsTUFBTUMsVUFBVSxHQUFHLElBQUlDLHlCQUFKLEVBQW5CO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLElBQUlELHlCQUFKLEVBQWxCO0FBQ0EsTUFBTUUsSUFBSSxHQUFHLElBQUlDLEdBQUosRUFBYjtBQUNBLE1BQU1DLEtBQVksR0FBRyxFQUFyQjtBQUNBLE1BQU1DLE1BQW9CLEdBQUcsRUFBN0I7QUFDQSw0QkFBV1IsS0FBWCxFQUFrQlMsT0FBbEIsQ0FBMEI7QUFDeEJDLElBQUFBLEtBQUssRUFBRSxlQUFDQyxFQUFELEVBQUtDLElBQUwsRUFBV0MsRUFBWCxFQUFrQjtBQUN2QixVQUFJRixFQUFFLENBQUNHLE9BQVAsRUFBZ0I7QUFDZCxZQUFNQyxJQUFJLEdBQUdmLEtBQUssQ0FBQ2dCLFFBQU4sQ0FBZUosSUFBZixFQUFxQkMsRUFBckIsQ0FBYjs7QUFDQSxZQUFJRCxJQUFJLEtBQUtDLEVB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Q0wsVUFBQ2dCLFVBQUQsRUFBc0JhLFNBQXRCLEVBQW1EO0FBQ2pEWixJQUFBQSxJQUFJLENBQUNhLFFBQUwsQ0FBYztBQUFDbEIsTUFBQUEsT0FBTyxFQUFFLENBQUNQLFVBQVUsQ0FBQzBCLEVBQVgsQ0FBY2YsVUFBZCxDQUFELEVBQTRCYixZQUFZLENBQUM0QixFQUFiLENBQWdCRixTQUFoQixDQUE1QjtBQUFWLEtBQWQ7QUFDRCxHQUhJLEVBSUxaLElBSkssQ0FBUDtBQU1EIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtFZGl0b3JTdGF0ZSwgU3RhdGVFZmZlY3QsIFN0YXRlRmllbGR9IGZyb20gXCJAY29kZW1pcnJvci9zdGF0ZVwiO1xuaW1wb3J0IHtEZWNvcmF0aW9uLCBEZWNvcmF0aW9uU2V0LCBkcmF3U2VsZWN0aW9uLCBFZGl0b3JWaWV3fSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiO1xuaW1wb3J0IHtSYW5nZVNldEJ1aWxkZXJ9IGZyb20gXCJAY29kZW1pcnJvci9yYW5nZXNldFwiO1xuaW1wb3J0IHticmFja2V0TWF0Y2hpbmd9IGZyb20gXCJAY29kZW1pcnJvci9tYXRjaGJyYWNrZXRzXCI7XG5pbXBvcnQge2NsYXNzSGlnaGxpZ2h0U3R5bGUsIEhpZ2hsaWdodFN0eWxlLCBzdHlsZVRhZ3MsIHRhZ3MgYXMgdH0gZnJvbSBcIkBjb2RlbWlycm9yL2hpZ2hsaWdodFwiO1xuaW1wb3J0IHtMYW5ndWFnZVN1cHBvcnQsIExlemVyTGFuZ3VhZ2UsIHN5bnRheFRyZWV9IGZyb20gXCJAY29kZW1pcnJvci9sYW5ndWFnZVwiO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHtwYXJzZXJ9IGZyb20gXCIuL2JleHByUGFyc2VyLmpzXCI7XG5cbnR5cGUgUFRyZWUgPSBzdHJpbmcgfCBQVHJlZVtdO1xuXG50eXBlIFBhcnNlRGF0YSA9IHtcbiAgaFZhcjogc3RyaW5nIHwgbnVsbDtcbiAgaFZhck1hcmtzOiBEZWNvcmF0aW9uU2V0O1xuICBwYXJzZTogUFRyZWU7XG4gIHZhcnM6IHN0cmluZ1tdO1xuICBlcnJvcnM6IFBhcnNlRXJyb3JbXSB8IG51bGw7XG4gIGVyck1hcmtzOiBEZWNvcmF0aW9uU2V0O1xufTtcblxudHlwZSBQYXJzZUVycm9yID0ge2Zyb206IG51bWJlcjsgdG86IG51bWJlcjsgdGV4dDogc3RyaW5nfTtcblxudHlwZSBQYXJzZU91dHB1dCA9IHtcbiAgdGV4dDogc3RyaW5nO1xuICB2YXJzOiBzdHJpbmdbXTtcbiAgcGFyc2U6IFBUcmVlO1xuICBlcnJvcnM6IFBhcnNlRXJyb3JbXSB8IG51bGw7XG59O1xuXG5jb25zdCB2YXJNYXJrID0gRGVjb3JhdGlvbi5tYXJrKHtjbGFzczogXCJjbS1tYXJrZWRWYXJcIn0pO1xuY29uc3QgZXJyTWFyayA9IERlY29yYXRpb24ubWFyayh7Y2xhc3M6IFwiY20tcGFyc2VFcnJvclwifSk7XG5jb25zdCB6ZXJvV2lkdGhFcnJNYXJrID0gRGVjb3JhdGlvbi5tYXJrKHtjbGFzczogXCJjbS16ZXJvV2lkdGhQYXJzZUVycm9yXCJ9KTtcblxuZnVuY3Rpb24gZ2V0UGFyc2VEYXRhKHN0YXRlOiBFZGl0b3JTdGF0ZSwgaFZhcjogc3RyaW5nIHwgbnVsbCk6IFBhcnNlRGF0YSB7XG4gIC8vIGNvbnN0IGhWYXJSYW5nZXMgPSBoVmFyID8gbmV3IFJhbmdlU2V0QnVpbGRlcjxEZWNvcmF0aW9uPigpIDogbnVsbDtcbiAgY29uc3QgaFZhclJhbmdlcyA9IG5ldyBSYW5nZVNldEJ1aWxkZXI8RGVjb3JhdGlvbj4oKTtcbiAgY29uc3QgZXJyUmFuZ2VzID0gbmV3IFJhbmdlU2V0QnVpbGRlcjxEZWNvcmF0aW9uPigpO1xuICBjb25zdCB2YXJzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGNvbnN0IHN0YWNrOiBQVHJlZSA9IFtdO1xuICBjb25zdCBlcnJvcnM6IFBhcnNlRXJyb3JbXSA9IFtdO1xuICBzeW50YXhUcmVlKHN0YXRlKS5pdGVyYXRlKHtcbiAgICBlbnRlcjogKG50LCBmcm9tLCB0bykgPT4ge1xuICAgICAgaWYgKG50LmlzRXJyb3IpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKTtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgLy8gZXJyUmFuZ2VzLmFkZChNYXRoLm1heCgwLGZyb20tMSksIHRvLCB6ZXJvV2lkdGhFcnJNYXJrKVxuICAgICAgICAgIGVyclJhbmdlcy5hZGQoZnJvbSwgdG8gKyAxLCB6ZXJvV2lkdGhFcnJNYXJrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcnJSYW5nZXMuYWRkKGZyb20sIHRvLCBlcnJNYXJrKTtcbiAgICAgICAgfVxuICAgICAgICBlcnJvcnMucHVzaCh7ZnJvbSwgdG8sIHRleHR9KTtcbiAgICAgICAgc3RhY2sucHVzaChbXCJFUlJPUlwiXSk7XG4gICAgICB9IGVsc2UgaWYgKG50LmlzKFwic3RyXCIpKSB7XG4gICAgICAgIGlmIChudC5uYW1lID09PSBcInZhclwiKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IHN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFtcInZhclwiLCB0ZXh0XSk7XG4gICAgICAgICAgdmFycy5hZGQodGV4dCk7XG4gICAgICAgICAgaWYgKHRleHQgPT09IGhWYXIpIHtcbiAgICAgICAgICAgIGhWYXJSYW5nZXMuYWRkKGZyb20sIHRvLCB2YXJNYXJrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhY2sucHVzaChbbnQubmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZWF2ZTogKCkgPT4ge1xuICAgICAgY29uc3Qgc2Vjb25kTGFzdCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDJdIGFzIFBUcmVlW107XG4gICAgICBpZiAoc2Vjb25kTGFzdCkge1xuICAgICAgICBzZWNvbmRMYXN0LnB1c2goc3RhY2sucG9wKCkhKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBoVmFyLFxuICAgIGhWYXJNYXJrczogaFZhclJhbmdlcy5maW5pc2goKSxcbiAgICBwYXJzZTogc3RhY2sucG9wKCkhLFxuICAgIHZhcnM6IFsuLi52YXJzXS5zb3J0KCksXG4gICAgZXJyb3JzOiBlcnJvcnMubGVuZ3RoID4gMCA/IGVycm9ycyA6IG51bGwsXG4gICAgZXJyTWFya3M6IGVyclJhbmdlcy5maW5pc2goKSxcbiAgfTtcbn1cblxuY29uc3QgaHN0eWxlID0gSGlnaGxpZ2h0U3R5bGUuZGVmaW5lKFtcbiAge3RhZzogdC5jb21wYXJlT3BlcmF0b3IsIGNsYXNzOiBcImNtdC1yZWwtb3BcIn0sXG4gIHt0YWc6IHQub3BlcmF0b3JLZXl3b3JkLCBjbGFzczogXCJjbXQtb3BlcmF0b3Ita2V5d29yZCBjbXQtb3BlcmF0b3JcIn0sXG4gIHt0YWc6IHQubG9naWNPcGVyYXRvciwgY2xhc3M6IFwiY210LWxvZy1vcFwifSxcbiAge3RhZzogdC5zcGVjaWFsKHQubG9naWNPcGVyYXRvciksIGNsYXNzOiBcImNtdC1uZWdhdGVkXCJ9LFxuXSk7XG5cbmNvbnN0IGJleHByTGFuZ3VhZ2UgPSBMZXplckxhbmd1YWdlLmRlZmluZSh7XG4gIHBhcnNlcjogcGFyc2VyLmNvbmZpZ3VyZSh7XG4gICAgcHJvcHM6IFtcbiAgICAgIHN0eWxlVGFncyh7XG4gICAgICAgIGxpdDogdC5ib29sLFxuICAgICAgICBsaXRLZXk6IFt0LmtleXdvcmQsIHQuYm9vbF0sXG4gICAgICAgIGxvZzogdC5sb2dpY09wZXJhdG9yLFxuICAgICAgICBsb2dLZXk6IFt0Lm9wZXJhdG9yS2V5d29yZCwgdC5sb2dpY09wZXJhdG9yXSxcbiAgICAgICAgcmVsOiB0LmNvbXBhcmVPcGVyYXRvcixcbiAgICAgICAgcmVsS2V5OiBbdC5vcGVyYXRvcktleXdvcmQsIHQuY29tcGFyZU9wZXJhdG9yXSxcbiAgICAgICAgbm90OiB0LnNwZWNpYWwodC5sb2dpY09wZXJhdG9yKSxcbiAgICAgICAgbm90S2V5OiBbdC5vcGVyYXRvcktleXdvcmQsIHQuc3BlY2lhbCh0LmxvZ2ljT3BlcmF0b3IpXSxcbiAgICAgICAgdmFyOiB0LnZhcmlhYmxlTmFtZSxcbiAgICAgICAgbmVnOiB0LnNwZWNpYWwodC5sb2dpY09wZXJhdG9yKSxcbiAgICAgIH0pLFxuICAgIF0sXG4gIH0pLFxufSk7XG5cbmZ1bmN0aW9uIGJleHByKCkge1xuICByZXR1cm4gbmV3IExhbmd1YWdlU3VwcG9ydChiZXhwckxhbmd1YWdlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVkaXRvcihcbiAgb25QYXJzZTogKG5ld1BhcnNlOiBQYXJzZU91dHB1dCkgPT4gYW55LFxuICBkb2M/OiBzdHJpbmdcbik6IFsoc2hvd0Vycm9yczogYm9vbGVhbiwgbWFya2VkVmFyOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkLCBFZGl0b3JWaWV3XSB7XG4gIGNvbnN0IHBhcnNlID0gKHN0YXRlOiBFZGl0b3JTdGF0ZSwgaFZhcjogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgIGNvbnN0IHBkID0gZ2V0UGFyc2VEYXRhKHN0YXRlLCBoVmFyKTtcbiAgICBvblBhcnNlKHtcbiAgICAgIHBhcnNlOiBwZC5wYXJzZSxcbiAgICAgIHZhcnM6IHBkLnZhcnMsXG4gICAgICBlcnJvcnM6IHBkLmVycm9ycyxcbiAgICAgIHRleHQ6IHN0YXRlLmRvYy50b1N0cmluZygpLFxuICAgIH0pO1xuICAgIHJldHVybiBwZDtcbiAgfTtcblxuICBjb25zdCBtYXJrVmFyaWFibGUgPSBTdGF0ZUVmZmVjdC5kZWZpbmU8c3RyaW5nIHwgbnVsbD4oKTtcbiAgY29uc3QgbWFya0Vycm9ycyA9IFN0YXRlRWZmZWN0LmRlZmluZTxib29sZWFuPigpO1xuXG4gIGNvbnN0IHBhcnNlRmllbGQgPSBTdGF0ZUZpZWxkLmRlZmluZTxQYXJzZURhdGE+KHtcbiAgICBjcmVhdGU6IChzdGF0ZSkgPT4gcGFyc2Uoc3RhdGUsIG51bGwpLFxuICAgIHVwZGF0ZTogKHByZXZEYXRhLCB0cikgPT4ge1xuICAgICAgZm9yIChjb25zdCBlIG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgaWYgKGUuaXMobWFya1ZhcmlhYmxlKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZSh0ci5zdGF0ZSwgZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0ci5kb2NDaGFuZ2VkKSB7XG4gICAgICAgIHJldHVybiBwYXJzZSh0ci5zdGF0ZSwgcHJldkRhdGEuaFZhcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldkRhdGE7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3Qgc2hvd0Vycm9ycyA9IFN0YXRlRmllbGQuZGVmaW5lPGJvb2xlYW4+KHtcbiAgICBjcmVhdGU6ICgpID0+IGZhbHNlLFxuICAgIHVwZGF0ZTogKHZhbHVlLCB0cikgPT4ge1xuICAgICAgZm9yIChjb25zdCBlIG9mIHRyLmVmZmVjdHMpIGlmIChlLmlzKG1hcmtFcnJvcnMpKSByZXR1cm4gZS52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCB2aWV3ID0gbmV3IEVkaXRvclZpZXcoe1xuICAgIHN0YXRlOiBFZGl0b3JTdGF0ZS5jcmVhdGUoe1xuICAgICAgZXh0ZW5zaW9uczogW1xuICAgICAgICBiZXhwcigpLFxuICAgICAgICBwYXJzZUZpZWxkLFxuICAgICAgICBzaG93RXJyb3JzLFxuICAgICAgICBFZGl0b3JWaWV3LmxpbmVXcmFwcGluZyxcbiAgICAgICAgRWRpdG9yVmlldy5kZWNvcmF0aW9ucy5jb21wdXRlKFtwYXJzZUZpZWxkLCBzaG93RXJyb3JzXSwgKHN0YXRlOiBFZGl0b3JTdGF0ZSkgPT5cbiAgICAgICAgICBzdGF0ZS5maWVsZChzaG93RXJyb3JzKSA/IHN0YXRlLmZpZWxkKHBhcnNlRmllbGQpLmVyck1hcmtzIDogRGVjb3JhdGlvbi5ub25lXG4gICAgICAgICksXG4gICAgICAgIEVkaXRvclZpZXcuZGVjb3JhdGlvbnMuZnJvbShwYXJzZUZpZWxkLCAoZGF0YSkgPT4gZGF0YS5oVmFyTWFya3MpLFxuICAgICAgICBkcmF3U2VsZWN0aW9uKCksXG4gICAgICAgIGhzdHlsZS5leHRlbnNpb24sXG4gICAgICAgIGNsYXNzSGlnaGxpZ2h0U3R5bGUuZXh0ZW5zaW9uLFxuICAgICAgICBicmFja2V0TWF0Y2hpbmcoKSxcbiAgICAgIF0sXG4gICAgICBkb2MsXG4gICAgfSksXG4gIH0pO1xuXG4gIHJldHVybiBbXG4gICAgKHNob3dFcnJvcnM6IGJvb2xlYW4sIG1hcmtlZFZhcjogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgdmlldy5kaXNwYXRjaCh7ZWZmZWN0czogW21hcmtFcnJvcnMub2Yoc2hvd0Vycm9ycyksIG1hcmtWYXJpYWJsZS5vZihtYXJrZWRWYXIpXX0pO1xuICAgIH0sXG4gICAgdmlldyxcbiAgXTtcbn1cbiJdfQ==\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","_toConsumableArray","arr","_arrayLikeToArray","iter","from","minLen","Object","prototype","toString","slice","constructor","name","test","len","arr2","getParseData","state","hVar","hVarRanges","_rangeset","RangeSetBuilder","errRanges","vars","Set","stack","errors","_language","syntaxTree","iterate","enter","nt","to","isError","text","sliceDoc","add","zeroWidthErrMark","errMark","push","is","_text","varMark","leave","secondLast","pop","hVarMarks","finish","parse","sort","errMarks","defineProperty","createEditor","onParse","doc","pd","markVariable","_state","StateEffect","define","markErrors","parseField","StateField","create","update","prevData","tr","_iterator","effects","_step","docChanged","showErrors","_iterator2","_step2","view","_view","EditorView","EditorState","extensions","LanguageSupport","bexprLanguage","lineWrapping","decorations","compute","field","Decoration","none","data","drawSelection","hstyle","extension","_highlight","classHighlightStyle","_matchbrackets","bracketMatching","markedVar","dispatch","of","_bexprParser","mark","HighlightStyle","tag","tags","compareOperator","operatorKeyword","logicOperator","special","LezerLanguage","parser","configure","props","styleTags","lit","bool","litKey","keyword","log","logKey","rel","relKey","not","notKey","variableName","neg"]
}
