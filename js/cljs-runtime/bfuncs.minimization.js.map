{"version":3,"sources":["bfuncs/minimization.cljs"],"mappings":"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","names":["bfuncs.minimization/var-vector","maps","cljs.core.mapcat","cljs.core/keys","cljs.core.distinct","cljs.core.sort","cljs.core/vec","bfuncs.minimization/implicant?","x","bfuncs.utils/array-like?","cljs.core/every?","cljs.core.partial","cljs.core/contains?","var_args","G__67660","bfuncs.minimization/maps->implicants","js/Error","v","bfuncs.minimization.maps__GT_implicants","vars","iter__4529__auto__","s__67662","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4527__auto__","size__4528__auto__","cljs.core/count","b__67664","cljs.core/chunk-buffer","i__67663","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__67661","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","m","cljs.core.mapv","bfuncs.minimization/imp-lex","bfuncs.minimization/truth-table","expr","f","bfuncs.parsing/->js-fn","p1__67666#","cljs.core.map","cljs.core.conj","bfuncs.utils.truth_vecs","bfuncs.minimization/function-vector","G__67668","bfuncs.minimization/minterms","bfuncs.minimization.minterms","meta?","cljs.core.filter","G__67670","bfuncs.minimization/maxterms","bfuncs.minimization.maxterms","cljs.core.remove","bfuncs.minimization/compare-implicants","imp1","imp2","n","v__27657__auto__","cljs.core/compare","i","cljs.core._EQ_","cljs.core.get","bfuncs.minimization/stringify-implicant","imp","clojure.string.join","bfuncs.minimization/implicants->maps","implicants","s__67676","b__67678","i__67677","iter__67675","cljs.core.into","cljs.core/nil?","p1__67673#","p2__67672#","bfuncs.minimization/minterm->int","minterm","term","cljs.core/next","bfuncs.minimization/maxterm->int","maxterm","cljs.core/not","bfuncs.minimization/term->int","bfuncs.minimization/strict-term->int","and__4115__auto__","G__67686","bfuncs.minimization/full-terms","nil-indexes","bfuncs.utils/positions","s__67689","b__67691","i__67690","iter__67688","tv","cljs.core.apply","cljs.core/assoc","cljs.core.interleave","cljs.core/List","bfuncs.minimization/full-terms-with-meta","nil-indices","s__67698","b__67700","i__67699","iter__67697","cljs.core/with-meta","cljs.core.sorted_set","bfuncs.minimization/covered-terms","implicant","or__4126__auto__","cljs.core/meta","temp__5737__auto__","cljs.core/set","s__67707","b__67709","i__67708","iter__67706","bfuncs.minimization/covers?","cljs.core/chunk-first","s__68074","bfuncs.minimization/compatible?","d","bfuncs.minimization/consistent?","temp__5739__auto__","x1","x2","cljs.core.not_EQ_","G__67738","bfuncs.minimization/combine-implicants","bfuncs.minimization.combine_implicants","di","i1","cljs.core/vector?","res","cljs.core.assoc","G__67756","bfuncs.minimization/combine-groups","group1","group2","bfuncs.minimization.combine_groups","combined","cljs.core/transient","combs","temp__5733__auto__","vec__67772","cljs.core.nth","cbnd","cmbs","combinations","added-imp1","comb","cljs.core.conj_BANG_","cljs.core/persistent!","G__67792","bfuncs.minimization/prime-implicants","bfuncs.minimization.prime_implicants","primes","vec__67814","groups","cljs.core/group-by","bfuncs.utils/count-when","cljs.core/true?","new-primes","next-implicants","entries","vec__67823","group","vec__67829","bfuncs.minimization/prime-implicant-steps","steps","cljs.core.atom","prime-i","push-prime!","p","np","cljs.core/deref","cljs.core.vary_meta","cljs.core.swap_BANG_","cljs.core/inc","cljs.core/conj!","vec__67843","vec__67846","bfuncs.utils/map-vals","xs","p1__67832#","bfuncs.minimization/covering-sets","coverers","covered","prime-vec","idx-set","cljs.core.range","s__67851","b__67853","i__67852","iter__67850","t","p1__67849#","bfuncs.utils/select","bfuncs.minimization/essential-elements","colls","es","xs__27556__auto__","coll","bfuncs.utils/singleton?","bfuncs.minimization/essential-elements-indexed","e","cljs.core.assoc_BANG_","bfuncs.minimization/separate-essentials","essentials","p1__67866#","bfuncs.utils/disjoint?","bfuncs.minimization/separate-essentials-indexed","ess-keys","p1__67871#","p2__67870#","cljs.core.map_indexed","bfuncs.minimization/join-bprod","bexpr","bfuncs.algebra/bprod?","bfuncs.minimization/minimal-covers","vec__67890","vec__67893","primes-vec","covers","ess","rem","s__67897","b__67899","i__67898","iter__67896","cover","dnf","bfuncs.algebra/->SOP","bfuncs.algebra/&&*","cljs.core/apply","bfuncs.algebra/||*","bfuncs.algebra/bsum?","p1__67887#","counts","cljs.core/some?","score","bfuncs.utils.map_reduce","cljs.core/+","s__67901","b__67903","i__67902","iter__67900","bfuncs.utils/minimal-by","bfuncs.minimization/bobj->implicants","bobj","s67907","bfuncs.algebra/sum-of-prods?","bfuncs.algebra/bvar?","bfuncs.algebra/bnot?","go","bfuncs.minimization/imp->&&","cljs.core/empty?","bfuncs.algebra._AMPERSAND__AMPERSAND_","G__67909","bfuncs.algebra/!","bfuncs.minimization/imp->||","bfuncs.algebra._BAR__BAR_","G__67913","bfuncs.minimization/imp->bobj-fn","target-form","inner","G__67921","cljs.core/Keyword","bfuncs.algebra/&&","bfuncs.algebra/||","conv","G__67922","p1__67917#","p2__67918#","p1__67919#","p2__67920#","G__67926","G__67927","G__67928","G__67929","bfuncs.minimization/imp->bobj","G__67934","G__67935","p1__67930#","p2__67931#","p1__67932#","p2__67933#","G__67939","G__67940","G__67941","G__67942","bfuncs.minimization/imps->bobj-fn","outer","G__67943","bfuncs.utils/map-reduce","bfuncs.minimization/imps->bobj","imps","G__67944","bfuncs.minimization/imps->bobjs","bfuncs.minimization/int->bobj","g","int","G__67947","G__67948","bfuncs.minimization/ints->bobj","ints","G__67958","bfuncs.minimization/int->imp","bfuncs.minimization.int__GT_imp","cljs.core/bit-test","bfuncs.utils/max-set-bit","G__67962","bfuncs.minimization/maps->full-terms","bfuncs.minimization/dnf->maps","G__67972","bfuncs.data/operation","bfuncs.minimization/cnf->maps","G__67978","bfuncs.minimization/normal-maps","op","G__67982","G__67983","G__67988","G__67994","bfuncs.minimization/quine-mccluskey","terms","bfuncs.minimization.quine_mccluskey","unspecified-terms","cljs.core.concat","G__67996","bfuncs.minimization/minimal-dnf","bfuncs.minimization.minimal_dnf","bfuncs.parsing/variables","G__68004","bfuncs.minimization/minimal-cnf","bfuncs.minimization.minimal_cnf","bfuncs.minimization/minimal-things","fexpr__68009","G__68010","cljs.core/seqable?","G__68012","bfuncs.minimization/minimal-POSs","G__68015","bfuncs.minimization/minimal-SOPs","bfuncs.minimization/minimal-forms","bfuncs.minimization.minimal_SOPs","bfuncs.minimization.minimal_POSs","bfuncs.algebra/->ANF","bfuncs.minimization/index-bobj","bfuncs.data/replace-operands","k","G__68022","bfuncs.minimization/quine-mccluskey-meta","bfuncs.minimization.quine_mccluskey_meta","vec__68027","vec__68030","vec__68033","remaining","bfuncs.minimization/minimization-steps","vec__68041","bfuncs.parsing.bexpr__GT_bobj","get-terms","term-type","prime-type","G__68044","G__68054","bfuncs.minimization/decode-selection","selection","bfuncs.minimization.decode_selection","term-length","expr__68058","cljs.core/int?","cljs.core/bit-count","cljs.core.ex_info","G__68061","bfuncs.minimization/echo-bin","obj__27297__auto__","f__27298__auto__","cljs.core.println","label","cljs.core.take","cljs.core.repeat","l","bfuncs.minimization/_1n","bfuncs.utils/big-int","bfuncs.minimization/_2n**","bfuncs.minimization/_2n*","bfuncs.minimization/z-coeffs","nvars","big-z","cljs.core.reduce","step","bl","shift","bfuncs.minimization/z-poly","coeffs","bfuncs.algebra/<+>","iter__27573__auto__","i__68075","c__68078","size__27572__auto__","b__68077","j__68076","iter__68073","coeff","prod","j","bfuncs.utils.rrange","bfuncs.minimization/zhegalkin-polynomial","digit-string","G__68087","bfuncs.minimization/int->truth-vec","p1__68091#","bfuncs.minimization/floor-log2","js/Math.clz32","bfuncs.minimization/tbytes","bfuncs.parsing/->bytes","G__68096","bfuncs.minimization/bytes->terms","type","bytes","bfuncs.minimization.bytes__GT_terms","fexpr__68097","bfuncs.utils/byte-array?","nvals","obj68098","k68099","obj68100","applied-science.js-interop.impl/in?*","js/undefined","arity","target","G__68101","target'","G__68102","unspecs","pred__68106","expr__68107","cljs.core/=","bfuncs.minimization/min-sops","bfuncs.minimization/min-poss"],"sourcesContent":["(ns bfuncs.minimization\r\n  (:refer-clojure :exclude [bytes])\r\n  (:require\r\n   [bfuncs.utils\r\n    :as util\r\n    :refer [echo map-reduce select count-when one? singleton? disjoint? reduce! map-vals\r\n            minimal-by truth-vecs positions max-set-bit if-first fori\r\n            let-case unless-zero assoc-some array-like? condf condo->>\r\n            truth-vecs str-join big-int rrange byte-array? byte-array\r\n            post-swap! get-meta mp echol applied]]\r\n   [bfuncs.algebra :as alg\r\n    :refer [|| && ! ||* &&* <+>\r\n            bprod? bsum? bnot? bvar? sum-of-prods?\r\n            prod-of-sums?\r\n            ->SOP ->POS get-vars ->ANF]]\r\n   [bfuncs.data :refer [operation replace-operands]]\r\n   [bfuncs.parsing :refer [variables bexpr->bobj ->js-fn ->bytes]]\r\n   [clojure.string :as str]\r\n   [\"/bfuncs/TruthTable\" :default TruthTable]\r\n   [\"/bfuncs/jsUtils\" :refer [functionBytes, bytesToBigInt]]\r\n   [applied-science.js-interop :as j]))\r\n\r\n\r\n(defn- var-vector [maps]\r\n  (->> maps\r\n       (mapcat keys)\r\n       distinct\r\n       sort\r\n       vec))\r\n\r\n\r\n(defn implicant? [x]\r\n  (and (array-like? x)\r\n       (every? (partial contains? #{nil true false}) x)))\r\n\r\n(defn maps->implicants\r\n  \"Converts a collection of maps to a sequence of implicants.\r\n\r\n  When called with one argument, returns the pair [vars implicants], where\r\n  vars is a sorted vector of distinct keys from elements of maps, and\r\n  implicants is the corresponding sequence of implicants. When supplied a\r\n  vector of keys as its first argument, returns the sequence of implicants\r\n  constructed from maps using those keys.\"\r\n  ([maps]\r\n   (let [v (var-vector maps)]\r\n     [v (maps->implicants v maps)]))\r\n  ([vars maps]\r\n   (for [m maps] (mapv m vars))))\r\n\r\n(def ^:private imp-lex\r\n  {false 0\r\n   true 1\r\n   nil 2})\r\n\r\n(defn truth-table [vars expr]\r\n  (when (and (some? expr) (some? vars))\r\n    (let [f (->js-fn vars expr)]\r\n      (map #(conj % (f %))\r\n           (truth-vecs (count vars))))))\r\n\r\n(defn function-vector [vars expr]\r\n  (when (and (some? expr) (some? vars))\r\n    (let [f (->js-fn vars expr)]\r\n      (mapv f (truth-vecs (count vars))))))\r\n\r\n(defn minterms\r\n  ([vars expr] (minterms vars expr false))\r\n  ([vars expr meta?]\r\n   (when (and (some? expr) (some? vars))\r\n     (let [f (->js-fn vars expr)]\r\n       (filter f (truth-vecs (count vars) meta?))))))\r\n\r\n\r\n(defn maxterms\r\n  ([vars expr] (maxterms vars expr false))\r\n  ([vars expr meta?]\r\n   (when (and (some? expr) (some? vars))\r\n     (let [f (->js-fn vars expr)]\r\n       (remove f (truth-vecs (count vars) meta?))))))\r\n\r\n(defn compare-implicants [imp1 imp2]\r\n  (let [n (count imp1)]\r\n    (unless-zero (compare n (count imp2))\r\n      (loop [i 0]\r\n        (if (= i n)\r\n          0\r\n          (unless-zero (compare (get imp-lex (get imp1 i))\r\n                                (get imp-lex (get imp2 i)))\r\n            (recur (inc i))))))))\r\n\r\n(defn- stringify-implicant [imp]\r\n  (str/join (map {false \"0\" true \"1\" nil \"-\"} imp)))\r\n\r\n(defn implicants->maps\r\n  \"Inverse of maps->implicants\"\r\n  [vars implicants]\r\n  (for [imp implicants]\r\n    (into {}\r\n          (remove nil?)\r\n          (map #(when (some? %2) [%1 %2])\r\n               vars\r\n               imp))))\r\n\r\n(defn- minterm->int [minterm]\r\n  (loop [term (seq minterm)\r\n         i (dec (count term))\r\n         x 0]\r\n    (if term\r\n      (recur (next term)\r\n             (dec i)\r\n             (if (first term)\r\n               (bit-set x i)\r\n               x))\r\n      x)))\r\n\r\n(defn- maxterm->int [maxterm]\r\n  (loop [term (seq maxterm)\r\n         i (dec (count term))\r\n         x 0]\r\n    (if term\r\n      (recur (next term)\r\n             (dec i)\r\n             (if-not (first term)\r\n               (bit-set x i)\r\n               x))\r\n      x)))\r\n\r\n(defn- term->int [term]\r\n  (loop [term (seq term)\r\n         i (dec (count term))\r\n         x 0]\r\n    (if term\r\n      (recur (next term)\r\n             (dec i)\r\n             (if (first term)\r\n               (bit-set x i)\r\n               x))\r\n      x)))\r\n\r\n;(defn- term->int\r\n;  ([target-form]\r\n;   (case target-form\r\n;                   :SOP minterm->int\r\n;                   :POS maxterm->int))\r\n;  ([target-form term]\r\n;   (case target-form\r\n;     :SOP (minterm->int term)\r\n;     :POS (maxterm->int term))))\r\n\r\n\r\n(defn strict-term->int [term]\r\n  (loop [term (seq term)\r\n         i (dec (count term))\r\n         x (and term 0)]\r\n    (when x\r\n      (if term\r\n        (recur (next term)\r\n               (dec i)\r\n               (case (first term)\r\n                 true (bit-set x i)\r\n                 false x\r\n                 nil))\r\n        x))))\r\n\r\n(defn full-terms\r\n  [vars m]\r\n  (let [imp (mapv m vars)\r\n        nil-indexes (positions nil? imp)]\r\n    (if nil-indexes\r\n      (for [tv (truth-vecs (count nil-indexes))]\r\n        (apply assoc imp (interleave nil-indexes tv)))\r\n      (list imp))))\r\n\r\n(defn full-terms-with-meta\r\n  [vars m]\r\n  (let [imp (mapv m vars)\r\n        nil-indices (positions nil? imp)]\r\n    (if nil-indices\r\n      (for [tv (truth-vecs (count nil-indices))\r\n            :let [term (apply assoc imp (interleave nil-indices tv))]]\r\n        (with-meta\r\n         term\r\n         {:terms (-> term term->int sorted-set)}))\r\n      (list (with-meta\r\n             imp\r\n             {:terms (-> imp term->int sorted-set)})))))\r\n\r\n(defn covered-terms [implicant]\r\n  (when implicant\r\n    (or (get-meta implicant :terms)\r\n        (if-some [nil-indices (positions nil? implicant)]\r\n          (set (for [tv (truth-vecs (count nil-indices))]\r\n                 (term->int\r\n                  (apply assoc implicant (interleave nil-indices tv)))))\r\n          (-> implicant term->int sorted-set)))))\r\n\r\n(defn covers?\r\n  \"Takes two implicant vectors, and returns true if the first covers the second.\r\n  imp1 is said to cover imp2 when both vectors have the same length, and\r\n  (imp2 i) equals (imp1 i) wherever (imp1 i) is non-nil.\"\r\n  [imp1 imp2]\r\n  (let [n (count imp1)]\r\n    (and (= n (count imp2))\r\n         (loop [i 0]\r\n           (or (>= i n)\r\n               (and (or (nil? (get imp1 i))\r\n                        (= (get imp1 i) (get imp2 i)))\r\n                    (recur (inc i))))))))\r\n\r\n(defn compatible?\r\n  [imp1 imp2]\r\n  \"Returns true if imp1 and imp2 are compatible for merging;\r\n  i.e. if imp1 and imp2 are the same length and differ in at most one position\"\r\n  (let [n (count imp1)]\r\n    (and (= (count imp2) n)\r\n         (loop [i 0, d true]\r\n           (cond\r\n             (>= i n) true\r\n             (= (get imp1 i)\r\n                (get imp2 i)) (recur (inc i) d)\r\n             :else (and d (recur (inc i) false)))))))\r\n\r\n(defn consistent?\r\n  \"Returns true if imp1 and imp2 are the same length and consistent;\r\n  that is, if there exists no index for which the values of imp1 and imp2 are non-nil and distinct. \"\r\n  [imp1 imp2]\r\n  (let [n (count imp1)]\r\n    (and (= (count imp2) n)\r\n         (loop [i 0]\r\n           (cond\r\n             (>= i n) true\r\n             (not (when-some [x1 (get imp1 i)]\r\n                    (when-some [x2 (get imp2 i)]\r\n                      (not= x1 x2)))) (recur (inc i))\r\n             :else false)))))\r\n\r\n(defn combine-implicants\r\n  \"Combines implicants when they differ in at most one position, returns nil otherwise.\r\n\r\n  A returned vector v satisfies both (covers? v imp1) and (covers? v imp2),\r\n  i.e. it has the same values as the inputs, except for nil where where they\r\n  differ.\"\r\n  ([imp1 imp2] (combine-implicants imp1 imp2 false))\r\n  ([imp1 imp2 meta?]\r\n   (let [n (count imp1)]\r\n     (when (= (count imp2) n)\r\n       (loop [i 0, di nil]\r\n         (cond\r\n           (>= i n) (let [i1 (if (vector? imp1) imp1 (vec imp1))\r\n                          res (if di (assoc i1 di nil) i1)]\r\n                      (if meta?\r\n                        (with-meta\r\n                         res\r\n                         {:terms (into\r\n                                  (covered-terms imp1)\r\n                                  (covered-terms imp2))})\r\n                        res))\r\n           (= (get imp1 i) (get imp2 i)) (recur (inc i) di)\r\n           :else (when-not di (recur (inc i) i))))))))\r\n\r\n#_(defn combine-implicants\r\n    \"Combines implicants when they differ in at most one position, returns nil otherwise.\r\n\r\n    A returned vector v satisfies both (covers? v imp1) and (covers? v imp2),\r\n    i.e. it has the same values as the inputs, except for nil where where they\r\n    differ.\"\r\n    ([imp1 imp2] (combine-implicants imp1 imp2 false))\r\n    ([imp1 imp2 meta?]\r\n     (let [n (count imp1)]\r\n       (when (= (count imp2) n)\r\n         (loop [i 0]\r\n           (if (< i n)\r\n             (if (= (get imp1 i) (get imp2 i))\r\n               (recur (inc i))\r\n               (when (= (subvec imp1 (inc i))\r\n                        (subvec imp2 (inc i)))\r\n                 (if meta?\r\n                   (with-meta\r\n                    (assoc imp1 i nil)\r\n                    {:terms (into (:terms (meta imp1))\r\n                                  (:terms (meta imp2)))})\r\n                   (assoc imp1 i nil))))\r\n             imp1))))))\r\n\r\n(defn- combine-groups\r\n  \"Takes two collections of implicants (expected to be disjoint), and\r\n  evaluates (combine-implicants i1 i2) for all i1 in group1 and i2 in group2.\r\n  If the result is nil for all pairs of implicants, returns nil. Otherwise,\r\n  returns [combined combinations], where combined is the set of inputs on which\r\n  combine-implicants produced a non-nil result at least once, and combinations\r\n  is the set of those results.\"\r\n  ([group1 group2] (combine-groups group1 group2 false))\r\n  ([group1 group2 meta?]\r\n   (loop [combined (transient [])\r\n          combs (transient #{})\r\n          group1 group1]\r\n     (if-let [imp1 (first group1)]\r\n       (let [[cbnd cmbs]\r\n             (loop [combined combined\r\n                    combinations combs\r\n                    added-imp1 false\r\n                    group2 group2]\r\n               (if-let [imp2 (first group2)]\r\n                 (if-let [comb (combine-implicants imp1 imp2 meta?)]\r\n                   (recur (conj! (if added-imp1\r\n                                   combined\r\n                                   (conj! combined imp1))\r\n                                 imp2)\r\n                          (conj! combinations comb)\r\n                          true\r\n                          (next group2))\r\n                   (recur combined\r\n                          combinations\r\n                          added-imp1\r\n                          (next group2)))\r\n                 [combined combinations]))]\r\n         (recur cbnd cmbs (next group1)))\r\n       (when (pos? (count combs))\r\n         [(persistent! combined) (persistent! combs)])))))\r\n\r\n(defn- prime-implicants\r\n  \"Returns the set of prime implicants from a collection of terms, specified as vectors.\"\r\n  ([implicants] (prime-implicants implicants false))\r\n  ([implicants meta?]\r\n   (loop [primes #{}\r\n          implicants implicants]\r\n     (if (seq implicants)\r\n       (let [groups (group-by (partial count-when true?) implicants)\r\n             [new-primes next-implicants]\r\n             (loop [combined #{}\r\n                    combs #{}\r\n                    entries groups]\r\n               (if-let [[n group] (first entries)]\r\n                 (if-let [[cbnd cmbs] (combine-groups group (get groups (inc n)) meta?)]\r\n                   (recur (into combined cbnd)\r\n                          (into combs cmbs)\r\n                          (next entries))\r\n                   (recur combined\r\n                          combs\r\n                          (next entries)))\r\n                 [(remove combined implicants) combs]))]\r\n         (recur (into primes new-primes) next-implicants))\r\n       primes))))\r\n\r\n(defn- prime-implicant-steps\r\n  \"Returns the set of prime implicants from a collection of terms, specified as vectors.\"\r\n  [implicants]\r\n  (let [steps (atom (transient []))\r\n        primes (atom (transient []))\r\n        prime-i (atom 0)\r\n        push-prime! (fn [p]\r\n                      (let [np (vary-meta p assoc\r\n                                 :prime-index @prime-i\r\n                                 :step (count @steps))]\r\n                        (swap! prime-i inc)\r\n                        (swap! primes conj! np)\r\n                        np))]\r\n    (loop [implicants implicants]\r\n      (if (seq implicants)\r\n        (let [groups (group-by (partial count-when true?) implicants)]\r\n          (recur\r\n           (loop [combined #{}\r\n                  combs #{}\r\n                  entries groups]\r\n             (if-let [[n group] (first entries)]\r\n               (if-let [[cbnd cmbs] (combine-groups group (get groups (inc n)) true)]\r\n                 (recur (into combined cbnd)\r\n                        (into combs cmbs)\r\n                        (next entries))\r\n                 (recur combined\r\n                        combs\r\n                        (next entries)))\r\n               (do (swap! steps\r\n                          conj!\r\n                          (map-vals\r\n                           (fn [xs]\r\n                             (mapv #(if (contains? combined %)\r\n                                      %\r\n                                      (push-prime! %))\r\n                                   (sort compare-implicants xs)))\r\n                           (sort groups)))\r\n                   combs)))))\r\n        [(persistent! @steps) (persistent! @primes)]))))\r\n\r\n(defn covering-sets\r\n  \"Given a coll of covering implicants and a coll of implicants to be covered,\r\n  returns the pair [cvec csets], where where cvec is a vector of coverers\r\n  suitable for indexing, and csets is a sequence of sets, the nth of which\r\n  contains the indices of elements in cvec which cover the nth item in covered.\r\n\r\n  (covering-sets #{[0 1 nil nil] [nil 1 nil 0]}\r\n                 [[0 1 1 1] [0 1 0 0] [1 1 0 0]])\r\n  ; => [[[0 1 nil nil] [nil 1 nil 0]] (#{0} #{0 1} #{1})]  \"\r\n  [coverers covered]\r\n  (let [prime-vec (vec coverers)\r\n        idx-set (set (range (count prime-vec)))]\r\n    [prime-vec\r\n     (for [t covered]\r\n       (select #(covers? (get prime-vec %) t) idx-set))]))\r\n\r\n(defn- essential-elements\r\n  \"Takes a collection of collections, and returns the set of items that appear\r\n  inside singletons.\"\r\n  [colls]\r\n  (loop [es (transient #{})\r\n         colls colls]\r\n    (if-first [coll colls]\r\n      (recur (if (singleton? coll)\r\n               (conj! es (first coll))\r\n               es)\r\n             (next colls))\r\n      (persistent! es))))\r\n\r\n(defn- essential-elements-indexed\r\n  \"Takes a collection of collections, and returns a map of items that appear within singletons\r\n  to the indices at which they appear.\"\r\n  [colls]\r\n  (loop [i 0\r\n         es (transient {})\r\n         colls colls]\r\n    (if-first [coll colls]\r\n      (recur (inc i)\r\n             (if (singleton? coll)\r\n               (let [e (first coll)]\r\n                 (assoc! es\r\n                   e (conj (get es e []) i)))\r\n               es)\r\n             (next colls))\r\n      (persistent! es))))\r\n\r\n(defn separate-essentials\r\n  \"Given a collection of collections, returns a vector [ess rem], where ess is\r\n  the set of essential elements of colls, and rem is the set of non-empty\r\n  collections in colls disjoint from ess.\"\r\n  ([colls]\r\n   (let [essentials (essential-elements colls)]\r\n     [essentials\r\n      (into #{}\r\n            (filter #(and (seq %) (disjoint? essentials %)))\r\n            colls)])))\r\n\r\n(defn separate-essentials-indexed\r\n  \"Given a collection of collections, returns a vector [ess rem], where ess is\r\n  the set of essential elements of colls, and rem is the set of non-empty\r\n  collections in colls disjoint from ess.\"\r\n  ([colls]\r\n   (let [essentials (essential-elements-indexed colls)\r\n         ess-keys (set (keys essentials))]\r\n     [essentials\r\n      (into {}\r\n            (map-indexed\r\n             #(when (and (seq %2) (disjoint? ess-keys %2))\r\n                [%1 %2]))\r\n            colls)])))\r\n\r\n(defn- join-bprod\r\n  [coll bexpr]\r\n  (cond\r\n    (nil? bexpr) coll\r\n    (bprod? bexpr) (into coll bexpr)\r\n    :else (conj coll bexpr)))\r\n\r\n(defn minimal-covers\r\n  [primes implicants]\r\n  (let [[primes-vec covers] (covering-sets primes implicants)\r\n        [ess rem] (separate-essentials covers)]\r\n    (for [cover (if (seq rem)\r\n                  (let [dnf (->SOP (apply &&* (map (applied ||*) rem)))]\r\n                    (if (bsum? dnf)\r\n                      (let [counts (mapv (partial count-when some?) primes-vec)\r\n                            score #(if (bprod? %) (map-reduce counts + %) (counts %))]\r\n                        (for [term (first (minimal-by score dnf))]\r\n                          (join-bprod ess term)))\r\n                      [(join-bprod ess dnf)]))\r\n                  [ess])]\r\n      (map primes-vec cover))))\r\n\r\n(defn bobj->implicants\r\n  [bobj]\r\n  (condo->> bobj\r\n    (not (sum-of-prods? bobj)) ->SOP\r\n    true (map (fn go [x]\r\n                (cond\r\n                  (bvar? x) {x true}\r\n                  (and (bnot? x)\r\n                       (bvar? (first x))) {(first x) false}\r\n                  :else (into {} (map go) x))))\r\n    true maps->implicants))\r\n\r\n(defn imp->&& [vars imp]\r\n  (loop [vars vars, imp imp, res true]\r\n    (if (or (empty? vars)\r\n            (empty? imp))\r\n      res\r\n      (recur (next vars)\r\n             (next imp)\r\n             (if (nil? (first imp))\r\n               res\r\n               (&& res\r\n                   (cond-> (first vars)\r\n                     (not (first imp)) !)))))))\r\n\r\n(defn imp->|| [vars imp]\r\n  (loop [vars vars, imp imp, res false]\r\n    (if (or (empty? vars)\r\n            (empty? imp))\r\n      res\r\n      (recur (next vars)\r\n             (next imp)\r\n             (if (nil? (first imp))\r\n               res\r\n               (|| res\r\n                   (cond-> (first vars)\r\n                     (first imp) !)))))))\r\n\r\n(defn imp->bobj-fn [target-form vars]\r\n  (let [inner (case target-form\r\n                :SOP &&\r\n                :POS ||)\r\n        conv (case target-form\r\n               :SOP #(if %1 %2 (! %2))\r\n               :POS #(if %1 (! %2) %2))]\r\n    (fn [imp]\r\n      (loop [vars vars, imp imp, res (inner)]\r\n        (if (or (empty? vars)\r\n                (empty? imp))\r\n          res\r\n          (recur (next vars)\r\n                 (next imp)\r\n                 (if (nil? (first imp))\r\n                   res\r\n                   (inner res (conv (first imp) (first vars))))))))))\r\n\r\n(defn imp->bobj [target-form vars imp]\r\n  (let [inner (case target-form\r\n                :SOP &&\r\n                :POS ||)\r\n        conv (case target-form\r\n               :SOP #(if %1 %2 (! %2))\r\n               :POS #(if %1 (! %2) %2))]\r\n    (loop [vars vars, imp imp, res (inner)]\r\n      (if (or (empty? vars)\r\n              (empty? imp))\r\n        res\r\n        (recur (next vars)\r\n               (next imp)\r\n               (if (nil? (first imp))\r\n                 res\r\n                 (inner res (conv (first imp) (first vars)))))))))\r\n\r\n(defn imps->bobj-fn [target-form vars]\r\n  (let [f (imp->bobj-fn target-form vars)\r\n        outer (case target-form :SOP || :POS &&)]\r\n    (partial map-reduce f outer)))\r\n\r\n(defn imps->bobj [target-form vars imps]\r\n  (map-reduce (imp->bobj-fn target-form vars)\r\n              (case target-form :SOP || :POS &&)\r\n              imps))\r\n\r\n(defn imps->bobjs [target-form vars imps]\r\n  (mapv (imp->bobj-fn target-form vars) imps))\r\n\r\n(defn int->bobj\r\n  [vars g int]\r\n  (loop [vars (seq vars)\r\n         i (dec (count vars))\r\n         x (g)]\r\n    (if vars\r\n      (recur (next vars)\r\n             (dec i)\r\n             (g x\r\n                (if (bit-test int i)\r\n                  (first vars)\r\n                  (! (first vars)))))\r\n      x)))\r\n\r\n(defn ints->bobj\r\n  [vars outer inner ints]\r\n  (map-reduce (partial int->bobj vars inner) outer ints))\r\n\r\n\r\n;(defn term->int\r\n;  [minterm]\r\n;  (reduce bit-set\r\n;          0\r\n;          (positions true? (rseq minterm))))\r\n\r\n(defn int->imp\r\n  ([x]\r\n   (int->imp x nil))\r\n  ([x n]\r\n   (mapv (partial bit-test x) (range (dec (or n (max-set-bit x))) -1 -1))))\r\n\r\n(defn maps->full-terms\r\n  \"With one argument, returns [vars terms], where vars is a vector of all\r\n  distinct keys of items in maps, and minterms is a sequence of full terms with\r\n  respect to those keys. If a collection of keys is is provided, returns the\r\n  sequence of terms with respect to those keys.\"\r\n  ([vars maps]\r\n   (distinct (mapcat (partial full-terms vars) maps)))\r\n  ([vars maps meta?]\r\n   (distinct\r\n    (mapcat (partial (if meta?\r\n                       full-terms-with-meta\r\n                       full-terms)\r\n                     vars)\r\n            maps))))\r\n\r\n(defn- dnf->maps\r\n  \"Converts a bobj in dnf to a sequence of maps, each map representing a\r\n  product. Assumes without checking that input is symbolic (i.e. not boolean\r\n  primitive) bobj in dnf.\"\r\n  [bobj]\r\n  (letfn [(go [x]\r\n            (case (operation x)\r\n              nil {x true}\r\n              :NOT {(first x) false}\r\n              (into {} (map go) x)))]\r\n    (if (bsum? bobj)\r\n      (map go bobj)\r\n      (list (go bobj)))))\r\n\r\n(defn- cnf->maps\r\n  [bobj]\r\n  (letfn [(go [x]\r\n            (case (operation x)\r\n              nil {x true}\r\n              :NOT {(first x) false}\r\n              (into {} (map go) x)))]\r\n    (if (bsum? bobj)\r\n      (map go bobj)\r\n      (list (go bobj)))))\r\n\r\n(defn- normal-maps\r\n  [op bobj]\r\n  (let [go (case op\r\n             :OR (fn go [x]\r\n                   (case (operation x)\r\n                     nil {x true}\r\n                     :NOT {(first x) false}\r\n                     (into {} (map go) x)))\r\n             :AND (fn go [x]\r\n                    (case (operation x)\r\n                      nil {x false}\r\n                      :NOT {(first x) true}\r\n                      (into {} (map go) x))))]\r\n    (if (= op (operation bobj))\r\n      (map go bobj)\r\n      (list (go bobj)))))\r\n\r\n#_(defn minterms\r\n    ([vars bobj] (minterms vars bobj false))\r\n    ([vars bobj meta?]\r\n     (let [bobj (->SOP bobj)]\r\n       (if (boolean? bobj)\r\n         bobj\r\n         (maps->full-terms vars (normal-maps :OR bobj) meta?)))))\r\n\r\n#_(defn maxterms\r\n    ([vars bobj] (maxterms vars bobj false))\r\n    ([vars bobj meta?]\r\n     (let [bobj (->POS bobj)]\r\n       (if (boolean? bobj)\r\n         bobj\r\n         (maps->full-terms vars (normal-maps :AND bobj) meta?)))))\r\n\r\n(defn quine-mccluskey\r\n  ([terms] (quine-mccluskey terms nil))\r\n  ([terms unspecified-terms]\r\n   (minimal-covers\r\n    (prime-implicants\r\n     (concat terms\r\n             unspecified-terms))\r\n    terms)))\r\n\r\n(defn minimal-dnf\r\n  ([bobj] (minimal-dnf (variables bobj) bobj))\r\n  ([vars bobj]\r\n   (if (empty? vars)\r\n     bobj\r\n     (->> bobj\r\n          (minterms vars)\r\n          quine-mccluskey\r\n          first\r\n          (imps->bobj :SOP vars)\r\n          ;(implicants->bobj vars | &)\r\n          ))))\r\n\r\n(defn minimal-cnf\r\n  ([bobj] (minimal-cnf (variables bobj) bobj))\r\n  ([vars bobj]\r\n   (if (empty? vars)\r\n     bobj\r\n     (->> bobj\r\n          (maxterms vars)\r\n          quine-mccluskey\r\n          first\r\n          (imps->bobj :POS vars)))))\r\n\r\n(defn- minimal-things\r\n  [target-form vars bobj]\r\n  (if (empty? vars)\r\n    (list bobj)\r\n    (let [terms ((case target-form\r\n                   :POS maxterms\r\n                   :SOP minterms)\r\n                 vars bobj)]\r\n      (if (seqable? terms)\r\n        (map (imps->bobj-fn target-form vars)\r\n             (quine-mccluskey terms))\r\n        (list terms)))))\r\n\r\n(defn minimal-POSs\r\n  ([bobj] (minimal-things :POS (variables bobj) bobj))\r\n  ([vars bobj] (minimal-things :POS vars bobj)))\r\n\r\n(defn minimal-SOPs\r\n  ([bobj] (minimal-things :SOP (variables bobj) bobj))\r\n  ([vars bobj] (minimal-things :SOP vars bobj)))\r\n\r\n(defn minimal-forms\r\n  [vars bobj]\r\n  {\"Sum of Products\" (minimal-SOPs vars bobj)\r\n   \"Product of Sums\" (minimal-POSs vars bobj)\r\n   \"Algebraic Normal Form\" [(->ANF bobj)]})\r\n\r\n(defn index-bobj [vars bobj]\r\n  (replace-operands (into {}\r\n                          (map-indexed (fn [k v] [v k]))\r\n                          vars)\r\n                    bobj))\r\n\r\n(defn quine-mccluskey-meta\r\n  ([terms] (quine-mccluskey-meta terms nil))\r\n  ([terms unspecified-terms]\r\n   (when (and (seqable? terms)\r\n              (seqable? unspecified-terms))\r\n     (let [[steps primes] (prime-implicant-steps (concat terms unspecified-terms))\r\n           terms (sort compare-implicants terms)\r\n           [primes covers] (covering-sets primes terms)\r\n           [essentials remaining] (separate-essentials-indexed covers)]\r\n       (mp :terms (mapv term->int terms)\r\n           :term-length (count (first terms))\r\n           steps primes essentials remaining covers)))))\r\n\r\n(defn minimization-steps\r\n  [target-form vars expr]\r\n  (let [bobj (bexpr->bobj expr)\r\n        [get-terms term-type prime-type]\r\n        (case target-form\r\n          :SOP [minterms \"minterm\" \"implicant\"]\r\n          :POS [maxterms \"maxterm\" \"implicate\"])]\r\n    (assoc (quine-mccluskey-meta (get-terms vars bobj true))\r\n      :target-form target-form\r\n      :term-type term-type\r\n      :prime-type prime-type\r\n      :expr expr\r\n      :indexed-expr (index-bobj vars bobj)\r\n      :vars vars)))\r\n\r\n(defn- decode-selection\r\n  ([selection] (decode-selection selection nil))\r\n  ([selection term-length]\r\n   (condf selection\r\n     nil? nil\r\n     int? [0\r\n           (bit-count selection)\r\n           (int->imp selection term-length)\r\n           (sorted-set selection)]\r\n     implicant? [(or (get-meta selection :step)\r\n                     (count-when nil? selection))\r\n                 (count-when true? selection)\r\n                 selection\r\n                 (covered-terms selection)]\r\n     (throw (ex-info (str \"Bad selection: \" selection)\r\n                     {:selection selection\r\n                      :term-length term-length})))))\r\n\r\n(defn- echo-bin\r\n  ([n]\r\n   (-> n (j/call :toString 2) (println))\r\n   n)\r\n  ([label n]\r\n   (println (str/join (take 10 (concat (str label) (repeat \" \")))) \" \" (j/call n :toString 2))\r\n   n)\r\n  ([label l n]\r\n   (println (str/join (take 10 (concat (str label) (repeat \" \")))) \" \" (j/call (j/call n :toString 2) :padStart l \"0\"))\r\n   n))\r\n\r\n(def _1n (big-int 1))\r\n\r\n(defn- _2n** [n]\r\n  (bit-shift-left _1n n))\r\n\r\n(defn- _2n* [n]\r\n  (bit-shift-left n _1n))\r\n\r\n(defn- z-coeffs [nvars big-z]\r\n  (reduce (fn [x step]\r\n            (let [bl (_2n** (big-int step))] ; block length\r\n              (bit-xor x\r\n                       (bit-shift-right\r\n                        (bit-and x\r\n                                 ; bit mask of length 2^nvars w/ alternating blocks of length b\r\n                                 (loop [i (- nvars step 1)\r\n                                        shift (_2n* bl)\r\n                                        ; b 1s followed by b 0s\r\n                                        x (bit-shift-left (- (_2n** bl) _1n) bl)]\r\n                                   (if (pos? i)\r\n                                     (recur (dec i)\r\n                                            (_2n* shift)\r\n                                            (bit-or x (bit-shift-left x shift)))\r\n                                     x)))\r\n                        bl))))\r\n          big-z\r\n          (range nvars)))\r\n\r\n(defn- z-poly [vars coeffs]\r\n  (let [nvars (count vars)]\r\n    (apply <+>\r\n           (fori [i :index\r\n                  coeff (-> coeffs\r\n                            (j/call :toString 2)\r\n                            (j/call :padStart (bit-shift-left 1 nvars) \"0\"))\r\n                  :when (= coeff \"1\")]\r\n             (reduce (fn [prod j]\r\n                       (if (bit-test i j)\r\n                         (&& prod (nth vars (- nvars j 1)))\r\n                         prod))\r\n                     true (rrange nvars))))))\r\n\r\n(defn zhegalkin-polynomial [vars digit-string]\r\n  (some->> digit-string\r\n           (str \"0b\")\r\n           (big-int)\r\n           (z-coeffs (count vars))\r\n           (z-poly vars)))\r\n\r\n(defn int->truth-vec [x n meta?]\r\n  (mapv (if meta?\r\n          #(with-meta (bit-test x %) #{x})\r\n          (partial bit-test x))\r\n        (range (dec n) -1 -1)))\r\n\r\n(defn floor-log2 [n] (- 31 (js/Math.clz32 n)))\r\n\r\n(def tbytes (->bytes [:a :b :c :d] (&& (|| (! :a) :b :c)\r\n                                       (|| :a :b :c :d)\r\n                                       (|| (! :b) (! :d)))))\r\n\r\n(defn bytes->terms\r\n  \"Returns the pair [terms unspecified], where terms and unspecified are both collections of truth vecs\"\r\n  ([type bytes] (bytes->terms type bytes false))\r\n  ([type bytes meta?]\r\n   {:pre [(#{:min :max} type)\r\n          (util/byte-array? bytes)]}\r\n   (let [nvals (j/get bytes :length)\r\n         arity (floor-log2 nvals)\r\n         target (case type :min 1 :max 0)\r\n         target' (case target 1 0 0 1)]\r\n     (loop [i 0\r\n            terms (transient [])\r\n            unspecs (transient [])]\r\n       (if (< i nvals)\r\n         (condp = (aget bytes i)\r\n           target (recur (inc i)\r\n                         (conj! terms\r\n                                (int->truth-vec i arity meta?))\r\n                         unspecs)\r\n           target' (recur (inc i) terms unspecs)\r\n           (recur (inc i) terms\r\n                  (conj! unspecs\r\n                         (int->truth-vec i arity meta?))))\r\n         [(persistent! terms) (persistent! unspecs)])))))\r\n\r\n(defn min-sops [vars bytes]\r\n  (->> bytes\r\n       (bytes->terms :min)\r\n       (apply quine-mccluskey)\r\n       (map (partial map-reduce (partial imp->&& vars) ||))))\r\n\r\n(defn min-poss [vars bytes]\r\n  (->> bytes\r\n       (bytes->terms :max)\r\n       (apply quine-mccluskey)\r\n       (map (partial map-reduce (partial imp->|| vars) &&))))"]}